
\documentclass{article}
\usepackage{amssymb}
\usepackage{parskip}
\usepackage{graphicx} % Required for inserting images
\usepackage{pgfplots} % just 4 graphs lmao
\pgfplotsset{compat = newest}
\begin{document}
\title{Relational algebra cheat sheet}
\author{by Art. Delgadillo}
\maketitle

$Relacion=tabla$

\textbf{Los renglones duplicados se eliminan}

\textbf{Selection $\mathbf{\sigma}$:} Selecciona las tuplas que cumplen con un operador lógico.

Notación: $ \sigma _{predicado}(R)\ \ \ \ \ _{R=Relacion}$

\textbf{Projection $\mathbf{\pi}$:} Obtiene una relación a partir de R elimina los atributos que no estén en la lista de atributos.

Notación: $\pi _{lista\ de\ atributos}(R)\ \ \ \ \ _{R=Relacion}$

\vspace{5mm}
\centerline{\textbf{---Composiciones verticales---}}

\textbf{Union/Concatenación $\cup$:} Une las tuplas de manera vertical y elimina duplicados.

Notación: $R\cup S\ \ \ _{R\ y\ S\ son\ relaciones}$

Solo es realizable con relaciones compatibles.

Nota \textbf{(relaciones compatibles)}: Las relaciones deben tener el mismo grado (numero de atributos), mismo nombre de atributos y mismo dominio(valores que puede tomar cada atributo)


\textbf{Subtraction $-$:} Devuelve las tuplas que están en R pero no están en S.


Notación: $R-S\ \ \ _{R\ y\ S\ son\ relaciones}$

Solo realizable con relaciones compatibles.

\textbf{Intersection $\cap$:} Es una relación con las tuplas que están en R y también están en S al mismo tiempo.

Notación: $R\cap S\ or\ R-(R-S)\ \ \ _{R\ y\ S\ son\ relaciones}$

Solo realizable en relaciones compatibles.

\pagebreak
\centerline{\textbf{---Composiciones horizontales---}}

\textbf{Product $\times$:} Une las tuplas de manera horizontal de tal forma que cada tupla de R se concatena con cada tupla de S.

Notación: $R\times S\ \ \ _{R\ y\ S\ son\ relaciones}$

Nota: conviene renombre los atributos de R y S para evitar ambigüedad.

\textbf{Join Natural $\bowtie$:} Une las tuplas de manera horizontal de tal forma que cada tupla de R se concatena con cada tupla de S con atributos en común.

Notación: $R\bowtie S\ \ \ _{R\ y\ S\ son\ relaciones}$

Nota: Si no hay atributos en común, el resultado es el producto cartesiano.

\textbf{Theta Join $\bowtie _{condicion}$:} Une las tuplas de manera horizontal de tal forma que cada tupla de R se concatena con cada tupla de S con atributos en común y que cumplan con la condición.

Se puede construir con producto cartesiano y seleccionando las tuplas que cumplan con la condición.

Notación: $R\bowtie _{condicion} S\ \ \ _{R\ y\ S\ son\ relaciones}$

\textbf{Outer Join $\bowtie _{condicion} ^{+}$:} Une las tuplas de manera horizontal de tal forma que cada tupla de R se concatena con cada tupla de S con atributos en común y que cumplan con la condición. Además, se incluyen las tuplas de R que no tienen correspondencia en S y viceversa.

Notación: $R=\bowtie _{condicion} ^{+} S, R\bowtie _{condicion} ^{+} =S, R=\bowtie _{condicion} ^{+} =S\\$
R y S son relaciones donde se representan outer join izquierdo, derecho y completo respectivamente.

La operación de outer join por la izquierda conserva las tuplas de R que no tienen correspondencia en S.

La operación de outer join por la derecha conserva las tuplas de S que no tienen correspondencia en R.

La operación  de outer join completo conserva las tuplas de R y S que no tienen correspondencia en la otra relación.

Los atributos que no tienen correspondencia se llenan con NULL.

Útil para encontrar tuplas que no tienen correspondencia en la otra relación.

\pagebreak
\centerline{\textbf{---Operaciones sobre una relación---}}

\textbf{Rename $\rho$:} Cambia el nombre de los atributos de una relación.

Notación: $\rho _{nuevo\ nombre}(R)\ \ \ _{R=Relacion}$

Asigna un nuevo nombre a la relación. No se obtiene una nueva relación.

\textbf{Alias $\rho$:} Cambia el nombre de los atributos de una relación.

Notación: $\rho _{nuevo\ nombre\leftarrow atributo} (R)\ \ \ _{R=Relacion}$

Asigna un nuevo nombre a un atributo de la relación. No se obtiene una nueva relación.

\vspace{5mm}
\centerline{\textbf{---Operaciones de resumen---}}

\textbf{Group by $\gamma$:} Agrupa las tuplas de una relación de acuerdo a un atributo y realiza una operación de resumen sobre cada grupo.

Notación: $\gamma _{atributo; operacion\ de\ resumen\rightarrow alias}(R)\ \ \ _{R=Relacion}$

Ninguna operación de resumen considera los valores NULL.

Ejemplos de operaciones de resumen: COUNT, SUM, AVG, MAX, MIN.

\textbf{Order by $\tau$:} Ordena las tuplas de una relación de acuerdo a un atributo.

Notación: $\tau _{atributo0[asc|desc],atributo1[asc|desc],...}(R)\ \ \ _{R=Relacion}$

Devuelve a la relación R ordenada de acuerdo a los atributos especificados.

Comienza a ordenar por el atributo0, si hay valores iguales, ordena por el atributo1 y así sucesivamente.

Ascendente siempre es el valor por defecto.

Solo tiene sentido como operador final de una expresión.

\textbf{Division $\div$:} Devuelve las tuplas de R que están relacionadas con todas las tuplas de S.

Notación: $R\div S\ \ \ _{R\ y\ S\ son\ relaciones}$

Crea una relación con los atributos de R que se corresponden con todos los atributos de S.

\vspace{5mm}
\centerline{\textbf{---Mantenimiento de datos---}}

\textbf{Delete:} Elimina tuplas de una relación.

Notación: $R=R-e \ \ \ _{R=Relacion\ \ e=tupla\ o\ resultado\ de\ una\ consulta}$

La tupla debe tener el mismo grado que la relación y con los valores en los dominios correspondientes.

\pagebreak

\textbf{Insert:} Inserta tuplas en una relación.

Notación: $R= R\cup e \ \ \ _{R=Relacion\ \ e=tupla\ o\ resultado\ de\ una\ consulta}$

La tupla debe tener el mismo grado que la relación y con los valores en los dominios correspondientes.

\textbf{Update:} Actualiza tuplas de una relación.

$BORRADO + INSERCION$

Se borran las tuplas que cumplen con la condición y se insertan las tuplas con los nuevos valores.

Se suele utilizar el operador de proyección generalizado, donde en la lista de atributos se especifican los atributos que no se van a actualizar y en la lista de expresiones se especifican los nuevos valores.
\end{document}
